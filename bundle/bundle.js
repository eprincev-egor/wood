!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){"use strict";const n=r(1);t.exports=class{constructor(){this.camera={x:0,y:0},this.trees=[],this.width=document.body.offsetWidth,this.height=document.body.offsetHeight,this.initCanvas(),this.initDrawer(),this.initKeyboard(),this.generateArea(),this.draw()}initCanvas(){const t=document.createElement("canvas");t.style.position="fixed",t.style.width="100%",t.style.height="100%",document.body.appendChild(t),this.canvas=t}initDrawer(){this.drawer=new n(this.canvas)}initKeyboard(){let{camera:t}=this;document.onkeydown=(e=>{37==e.keyCode&&(t.x-=10),38==e.keyCode&&(t.y-=10),39==e.keyCode&&(t.x+=10),40==e.keyCode&&(t.y+=10),this.draw()})}draw(){this.drawer.draw(this)}generateArea(){for(let t=0;t<this.width;t+=100)for(let e=0;e<this.height;e+=100){let r=t+100*Math.random(),n=e+100*Math.random();this.trees.push({x:r,y:n})}}}},function(t,e,r){"use strict";const n=r(2),i=r(3);t.exports=class{constructor(t){let e=t.getContext("webgl");this.gl=e,this.canvas=t,this.vertexShader=n.createShader(e,e.VERTEX_SHADER,"\n            attribute vec4 a_position;\n            attribute vec4 a_color;\n            \n            uniform mat4 u_matrix;\n            \n            varying vec4 v_color;\n            \n            void main() {\n                // Multiply the position by the matrix.\n                gl_Position = u_matrix * a_position;\n                \n                // Pass the color to the fragment shader.\n                v_color = a_color;\n            }\n        "),this.fragmentShader=n.createShader(e,e.FRAGMENT_SHADER,"\n            precision mediump float;\n\n            // Passed in from the vertex shader.\n            varying vec4 v_color;\n            \n            void main() {\n                gl_FragColor = v_color;\n            }\n        "),this.program=n.createProgram(e,this.vertexShader,this.fragmentShader),this.positionLocation=e.getAttribLocation(this.program,"a_position"),this.colorLocation=e.getAttribLocation(this.program,"a_color"),this.matrixLocation=e.getUniformLocation(this.program,"u_matrix")}draw({camera:t,trees:e,width:r,height:o}){let{canvas:a,gl:s,positionLocation:c,program:h,colorLocation:u,matrixLocation:l}=this;a.width=r,a.height=o,s.viewport(0,0,r,o),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.enable(s.CULL_FACE),s.enable(s.DEPTH_TEST);let d=i(),p=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,p),s.bufferData(s.ARRAY_BUFFER,new Float32Array(d.points),s.STATIC_DRAW);let f,m,y,g,v,b=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,b),s.bufferData(s.ARRAY_BUFFER,new Uint8Array(d.colors),s.STATIC_DRAW),s.useProgram(h),s.enableVertexAttribArray(c),s.bindBuffer(s.ARRAY_BUFFER,p),f=3,m=s.FLOAT,y=!1,g=0,v=0,s.vertexAttribPointer(c,f,m,y,g,v),s.enableVertexAttribArray(u),s.bindBuffer(s.ARRAY_BUFFER,b),f=3,m=s.UNSIGNED_BYTE,y=!0,g=0,v=0,s.vertexAttribPointer(u,f,m,y,g,v);let _=s.canvas.clientWidth/s.canvas.clientHeight,A=1/3*Math.PI,x=n.perspective(A,_,1,2e3),R=n.translation(t.x,-t.y,400),w=n.inverse(R),S=n.multiply(x,w);e.forEach(t=>{let e=n.translate(S,t.x,t.y,0);s.uniformMatrix4fv(l,!1,e),s.drawArrays(s.TRIANGLES,0,d.points.length/3)})}}},function(t,e,r){"use strict";let n={createShader(t,e,r){let n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n},createProgram(t,e,r){let n=t.createProgram();return t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),n},perspective(t,e,r,n){let i=Math.tan(.5*Math.PI-.5*t),o=1/(r-n);return[i/e,0,0,0,0,i,0,0,0,0,(r+n)*o,-1,0,0,r*n*o*2,0]},multiply(t,e){let r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],h=t[7],u=t[8],l=t[9],d=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15],v=e[0],b=e[1],_=e[2],A=e[3],x=e[4],R=e[5],w=e[6],S=e[7],E=e[8],F=e[9],P=e[10],T=e[11],B=e[12],M=e[13],C=e[14],L=e[15];return[v*r+b*a+_*u+A*f,v*n+b*s+_*l+A*m,v*i+b*c+_*d+A*y,v*o+b*h+_*p+A*g,x*r+R*a+w*u+S*f,x*n+R*s+w*l+S*m,x*i+R*c+w*d+S*y,x*o+R*h+w*p+S*g,E*r+F*a+P*u+T*f,E*n+F*s+P*l+T*m,E*i+F*c+P*d+T*y,E*o+F*h+P*p+T*g,B*r+M*a+C*u+L*f,B*n+M*s+C*l+L*m,B*i+M*c+C*d+L*y,B*o+M*h+C*p+L*g]},translation:(t,e,r)=>[1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1],translate:(t,e,r,i)=>n.multiply(t,n.translation(e,r,i)),inverse(t){let e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],h=t[8],u=t[9],l=t[10],d=t[11],p=t[12],f=t[13],m=t[14],y=t[15],g=l*y,v=m*d,b=s*y,_=m*c,A=s*d,x=l*c,R=n*y,w=m*i,S=n*d,E=l*i,F=n*c,P=s*i,T=h*f,B=p*u,M=o*f,C=p*a,L=o*u,U=h*a,D=e*f,O=p*r,I=e*u,j=h*r,Y=e*a,k=o*r,H=g*a+_*u+A*f-(v*a+b*u+x*f),N=v*r+R*u+E*f-(g*r+w*u+S*f),W=b*r+w*a+F*f-(_*r+R*a+P*f),G=x*r+S*a+P*u-(A*r+E*a+F*u),V=1/(e*H+o*N+h*W+p*G);return[V*H,V*N,V*W,V*G,V*(v*o+b*h+x*p-(g*o+_*h+A*p)),V*(g*e+w*h+S*p-(v*e+R*h+E*p)),V*(_*e+R*o+P*p-(b*e+w*o+F*p)),V*(A*e+E*o+F*h-(x*e+S*o+P*h)),V*(T*c+C*d+L*y-(B*c+M*d+U*y)),V*(B*i+D*d+j*y-(T*i+O*d+I*y)),V*(M*i+O*c+Y*y-(C*i+D*c+k*y)),V*(U*i+I*c+k*d-(L*i+j*c+Y*d)),V*(M*l+U*m+B*s-(L*m+T*s+C*l)),V*(I*m+T*n+O*l-(D*l+j*m+B*n)),V*(D*s+k*m+C*n-(Y*m+M*n+O*s)),V*(Y*l+L*n+j*s-(I*s+k*l+U*n))]}};t.exports=n},function(t,e,r){"use strict";t.exports=function(){let t=[],e=[],r=2*Math.PI/12,n=51,i=19,o=0,a=r;for(let s=0;s<12;s++){let s=10*Math.cos(o),c=10*Math.sin(o),h=10*Math.cos(a),u=10*Math.sin(a);t.push(s,c,-250),t.push(h,u,-250),t.push(0,0,-250),e.push(n,i,3,n,i,3,n,i,3),t.push(s,c,250),t.push(h,u,250),t.push(0,0,250),e.push(n,i,3,n,i,3,n,i,3),t.push(s,c,-250),t.push(h,u,-250),t.push(s,c,250),e.push(n,i,3,n,i,3,n,i,3),t.push(h,u,250),t.push(s,c,250),t.push(h,u,-250),e.push(n,i,3,n,i,3,n,i,3),o=a,a+=r}return{points:t,colors:e}}},function(t,e,r){r(0),r(1),r(2),r(5),t.exports=r(3)},function(t,e,r){"use strict";const n=r(0);setTimeout(()=>{window.app=new n})}]);