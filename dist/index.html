<script>"use strict";const canvas=document.createElement("canvas"),gl=canvas.getContext("webgl");canvas.style.position="fixed",canvas.style.width="100%",canvas.style.height="100%",setTimeout(()=>{document.body.appendChild(canvas);let e,t,r={x:0,y:0},a=f.createShader(gl.VERTEX_SHADER,"\n            attribute vec4 a_position;\n            attribute vec4 a_color;\n            \n            uniform mat4 u_matrix;\n            \n            varying vec4 v_color;\n            \n            void main() {\n                // Multiply the position by the matrix.\n                gl_Position = u_matrix * a_position;\n                \n                // Pass the color to the fragment shader.\n                v_color = a_color;\n            }\n        "),n=f.createShader(gl.FRAGMENT_SHADER,"\n            precision mediump float;\n\n            // Passed in from the vertex shader.\n            varying vec4 v_color;\n            \n            void main() {\n                gl_FragColor = v_color;\n            }\n        "),l=f.createProgram(a,n),o=gl.getAttribLocation(l,"a_position"),i=gl.getAttribLocation(l,"a_color"),g=gl.getUniformLocation(l,"u_matrix"),s=()=>{canvas.width=document.body.offsetWidth,canvas.height=document.body.offsetHeight,gl.viewport(0,0,gl.canvas.width,gl.canvas.height),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),gl.enable(gl.CULL_FACE),gl.enable(gl.DEPTH_TEST);let a,n,s,c,h,u=getCylinder();e=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,e),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(u.points),gl.STATIC_DRAW),t=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,t),gl.bufferData(gl.ARRAY_BUFFER,new Uint8Array(u.colors),gl.STATIC_DRAW),gl.useProgram(l),gl.enableVertexAttribArray(o),gl.bindBuffer(gl.ARRAY_BUFFER,e),a=3,n=gl.FLOAT,s=!1,c=0,h=0,gl.vertexAttribPointer(o,a,n,s,c,h),gl.enableVertexAttribArray(i),gl.bindBuffer(gl.ARRAY_BUFFER,t),a=3,n=gl.UNSIGNED_BYTE,s=!0,c=0,h=0,gl.vertexAttribPointer(i,a,n,s,c,h);let d=gl.canvas.clientWidth/gl.canvas.clientHeight,p=1/3*Math.PI,v=f.perspective(p,d,1,2e3),A=f.translation(r.x,-r.y,400),_=f.inverse(A),m=f.multiply(v,_);gl.uniformMatrix4fv(g,!1,m),gl.drawArrays(gl.TRIANGLES,0,u.points.length/3)};document.onkeydown=(e=>{37==e.keyCode&&(r.x-=10),38==e.keyCode&&(r.y-=10),39==e.keyCode&&(r.x+=10),40==e.keyCode&&(r.y+=10),s()}),s()});let f={createShader(e,t){let r=gl.createShader(e);return gl.shaderSource(r,t),gl.compileShader(r),r},createProgram(e,t){let r=gl.createProgram();return gl.attachShader(r,e),gl.attachShader(r,t),gl.linkProgram(r),r},perspective(e,t,r,a){let n=Math.tan(.5*Math.PI-.5*e),l=1/(r-a);return[n/t,0,0,0,0,n,0,0,0,0,(r+a)*l,-1,0,0,r*a*l*2,0]},multiply(e,t){let r=e[0],a=e[1],n=e[2],l=e[3],o=e[4],i=e[5],g=e[6],s=e[7],c=e[8],h=e[9],u=e[10],d=e[11],f=e[12],p=e[13],v=e[14],A=e[15],_=t[0],m=t[1],y=t[2],R=t[3],b=t[4],E=t[5],F=t[6],B=t[7],x=t[8],T=t[9],P=t[10],S=t[11],C=t[12],U=t[13],M=t[14],w=t[15];return[_*r+m*o+y*c+R*f,_*a+m*i+y*h+R*p,_*n+m*g+y*u+R*v,_*l+m*s+y*d+R*A,b*r+E*o+F*c+B*f,b*a+E*i+F*h+B*p,b*n+E*g+F*u+B*v,b*l+E*s+F*d+B*A,x*r+T*o+P*c+S*f,x*a+T*i+P*h+S*p,x*n+T*g+P*u+S*v,x*l+T*s+P*d+S*A,C*r+U*o+M*c+w*f,C*a+U*i+M*h+w*p,C*n+U*g+M*u+w*v,C*l+U*s+M*d+w*A]},translation:(e,t,r)=>[1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1],inverse(e){let t=e[0],r=e[1],a=e[2],n=e[3],l=e[4],o=e[5],i=e[6],g=e[7],s=e[8],c=e[9],h=e[10],u=e[11],d=e[12],f=e[13],p=e[14],v=e[15],A=h*v,_=p*u,m=i*v,y=p*g,R=i*u,b=h*g,E=a*v,F=p*n,B=a*u,x=h*n,T=a*g,P=i*n,S=s*f,C=d*c,U=l*f,M=d*o,w=l*c,D=s*o,I=t*f,L=d*r,Y=t*c,k=s*r,H=t*o,N=l*r,W=A*o+y*c+R*f-(_*o+m*c+b*f),G=_*r+E*c+x*f-(A*r+F*c+B*f),O=m*r+F*o+T*f-(y*r+E*o+P*f),V=b*r+B*o+P*c-(R*r+x*o+T*c),X=1/(t*W+l*G+s*O+d*V);return[X*W,X*G,X*O,X*V,X*(_*l+m*s+b*d-(A*l+y*s+R*d)),X*(A*t+F*s+B*d-(_*t+E*s+x*d)),X*(y*t+E*l+P*d-(m*t+F*l+T*d)),X*(R*t+x*l+T*s-(b*t+B*l+P*s)),X*(S*g+M*u+w*v-(C*g+U*u+D*v)),X*(C*n+I*u+k*v-(S*n+L*u+Y*v)),X*(U*n+L*g+H*v-(M*n+I*g+N*v)),X*(D*n+Y*g+N*u-(w*n+k*g+H*u)),X*(U*h+D*p+C*i-(w*p+S*i+M*h)),X*(Y*p+S*a+L*h-(I*h+k*p+C*a)),X*(I*i+N*p+M*a-(H*p+U*a+L*i)),X*(H*h+w*a+k*i-(Y*i+N*h+D*a))]}};function getCylinder(){let e=[],t=[],r=2*Math.PI/12,a=51,n=19,l=0,o=r;for(let i=0;i<12;i++){let i=10*Math.cos(l),g=10*Math.sin(l),s=10*Math.cos(o),c=10*Math.sin(o);e.push(i,g,-250),e.push(s,c,-250),e.push(0,0,-250),t.push(a,n,3,a,n,3,a,n,3),e.push(i,g,250),e.push(s,c,250),e.push(0,0,250),t.push(a,n,3,a,n,3,a,n,3),e.push(i,g,-250),e.push(s,c,-250),e.push(i,g,250),t.push(a,n,3,a,n,3,a,n,3),e.push(s,c,250),e.push(i,g,250),e.push(s,c,-250),t.push(a,n,3,a,n,3,a,n,3),l=o,o+=r}return{points:e,colors:t}}</script>