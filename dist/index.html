<script>"use strict";const canvas=document.createElement("canvas"),gl=canvas.getContext("webgl");canvas.style.position="fixed",canvas.style.width="100%",canvas.style.height="100%",setTimeout(()=>{document.body.appendChild(canvas);let e,t,r={x:0,y:0},a=f.createShader(gl.VERTEX_SHADER,"\n            attribute vec4 a_position;\n            attribute vec4 a_color;\n            \n            uniform mat4 u_matrix;\n            \n            varying vec4 v_color;\n            \n            void main() {\n                // Multiply the position by the matrix.\n                gl_Position = u_matrix * a_position;\n                \n                // Pass the color to the fragment shader.\n                v_color = a_color;\n            }\n        "),n=f.createShader(gl.FRAGMENT_SHADER,"\n            precision mediump float;\n\n            // Passed in from the vertex shader.\n            varying vec4 v_color;\n            \n            void main() {\n                gl_FragColor = v_color;\n            }\n        "),l=f.createProgram(a,n),o=gl.getAttribLocation(l,"a_position"),i=gl.getAttribLocation(l,"a_color"),g=gl.getUniformLocation(l,"u_matrix"),c=()=>{let a,n,c,s,d;canvas.width=document.body.offsetWidth,canvas.height=document.body.offsetHeight,gl.viewport(0,0,gl.canvas.width,gl.canvas.height),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),gl.enable(gl.CULL_FACE),gl.enable(gl.DEPTH_TEST),e=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,e),setGeometry(gl),t=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,t),setColors(gl),gl.useProgram(l),gl.enableVertexAttribArray(o),gl.bindBuffer(gl.ARRAY_BUFFER,e),a=3,n=gl.FLOAT,c=!1,s=0,d=0,gl.vertexAttribPointer(o,a,n,c,s,d),gl.enableVertexAttribArray(i),gl.bindBuffer(gl.ARRAY_BUFFER,t),a=3,n=gl.UNSIGNED_BYTE,c=!0,s=0,d=0,gl.vertexAttribPointer(i,a,n,c,s,d);let u=gl.canvas.clientWidth/gl.canvas.clientHeight,h=1/3*Math.PI,v=f.perspective(h,u,1,2e3),A=f.translation(r.x,-r.y,400),_=f.inverse(A),m=f.multiply(v,_);gl.uniformMatrix4fv(g,!1,m),gl.drawArrays(gl.TRIANGLES,0,30)};document.onkeydown=(e=>{37==e.keyCode&&(r.x-=10),38==e.keyCode&&(r.y-=10),39==e.keyCode&&(r.x+=10),40==e.keyCode&&(r.y+=10),c()}),c()});let f={createShader(e,t){let r=gl.createShader(e);return gl.shaderSource(r,t),gl.compileShader(r),r},createProgram(e,t){let r=gl.createProgram();return gl.attachShader(r,e),gl.attachShader(r,t),gl.linkProgram(r),r},perspective(e,t,r,a){let n=Math.tan(.5*Math.PI-.5*e),l=1/(r-a);return[n/t,0,0,0,0,n,0,0,0,0,(r+a)*l,-1,0,0,r*a*l*2,0]},multiply(e,t){let r=e[0],a=e[1],n=e[2],l=e[3],o=e[4],i=e[5],g=e[6],c=e[7],s=e[8],d=e[9],f=e[10],u=e[11],h=e[12],v=e[13],A=e[14],_=e[15],m=t[0],y=t[1],R=t[2],b=t[3],E=t[4],F=t[5],p=t[6],B=t[7],x=t[8],T=t[9],S=t[10],C=t[11],P=t[12],U=t[13],w=t[14],D=t[15];return[m*r+y*o+R*s+b*h,m*a+y*i+R*d+b*v,m*n+y*g+R*f+b*A,m*l+y*c+R*u+b*_,E*r+F*o+p*s+B*h,E*a+F*i+p*d+B*v,E*n+F*g+p*f+B*A,E*l+F*c+p*u+B*_,x*r+T*o+S*s+C*h,x*a+T*i+S*d+C*v,x*n+T*g+S*f+C*A,x*l+T*c+S*u+C*_,P*r+U*o+w*s+D*h,P*a+U*i+w*d+D*v,P*n+U*g+w*f+D*A,P*l+U*c+w*u+D*_]},translation:(e,t,r)=>[1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1],inverse(e){let t=e[0],r=e[1],a=e[2],n=e[3],l=e[4],o=e[5],i=e[6],g=e[7],c=e[8],s=e[9],d=e[10],f=e[11],u=e[12],h=e[13],v=e[14],A=e[15],_=d*A,m=v*f,y=i*A,R=v*g,b=i*f,E=d*g,F=a*A,p=v*n,B=a*f,x=d*n,T=a*g,S=i*n,C=c*h,P=u*s,U=l*h,w=u*o,D=l*s,I=c*o,L=t*h,Y=u*r,k=t*s,H=c*r,M=t*o,G=l*r,N=_*o+R*s+b*h-(m*o+y*s+E*h),W=m*r+F*s+x*h-(_*r+p*s+B*h),O=y*r+p*o+T*h-(R*r+F*o+S*h),V=E*r+B*o+S*s-(b*r+x*o+T*s),X=1/(t*N+l*W+c*O+u*V);return[X*N,X*W,X*O,X*V,X*(m*l+y*c+E*u-(_*l+R*c+b*u)),X*(_*t+p*c+B*u-(m*t+F*c+x*u)),X*(R*t+F*l+S*u-(y*t+p*l+T*u)),X*(b*t+x*l+T*c-(E*t+B*l+S*c)),X*(C*g+w*f+D*A-(P*g+U*f+I*A)),X*(P*n+L*f+H*A-(C*n+Y*f+k*A)),X*(U*n+Y*g+M*A-(w*n+L*g+G*A)),X*(I*n+k*g+G*f-(D*n+H*g+M*f)),X*(U*d+I*v+P*i-(D*v+C*i+w*d)),X*(k*v+C*a+Y*d-(L*d+H*v+P*a)),X*(L*i+G*v+w*a-(M*v+U*a+Y*i)),X*(M*d+D*a+H*i-(k*i+G*d+I*a))]}};function setGeometry(e){let t=new Float32Array([-50,-50,50,50,-50,50,-50,50,50,-50,50,50,50,-50,50,50,50,50,-50,50,-50,-50,50,50,50,50,-50,-50,50,50,50,50,50,50,50,-50,-50,-50,-50,50,-50,-50,-50,-50,50,-50,-50,50,50,-50,-50,50,-50,50,-50,-50,-50,-50,-50,50,-50,50,-50,-50,-50,50,-50,50,50,-50,50,-50,50,-50,-50,50,50,-50,50,-50,50,50,-50,50,50,50,-50,50,50,50]);e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}function setColors(e){e.bufferData(e.ARRAY_BUFFER,new Uint8Array([200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,200,200,80,200,200,80,200,200,80,200,200,80,200,200,80,200,200,80,0,200,80,0,200,80,0,200,80,0,200,80,0,200,80,0,200,0,70,200,0,70,200,0,70,200,0,70,200,0,70,200,0,70,200]),e.STATIC_DRAW)}</script>