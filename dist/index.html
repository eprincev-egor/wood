<script>"use strict";setTimeout(()=>{const e=document.createElement("canvas"),t=e.getContext("webgl");e.style.position="fixed",e.style.width="100%",e.style.height="100%",document.body.appendChild(e);let r,a,n={x:0,y:0},o=[{x:0,y:0},{x:100,y:100}],i=p.createShader(t.VERTEX_SHADER,"\n            attribute vec4 a_position;\n            attribute vec4 a_color;\n            \n            uniform mat4 u_matrix;\n            \n            varying vec4 v_color;\n            \n            void main() {\n                // Multiply the position by the matrix.\n                gl_Position = u_matrix * a_position;\n                \n                // Pass the color to the fragment shader.\n                v_color = a_color;\n            }\n        "),s=p.createShader(t.FRAGMENT_SHADER,"\n            precision mediump float;\n\n            // Passed in from the vertex shader.\n            varying vec4 v_color;\n            \n            void main() {\n                gl_FragColor = v_color;\n            }\n        "),h=p.createProgram(i,s),l=t.getAttribLocation(h,"a_position"),c=t.getAttribLocation(h,"a_color"),u=t.getUniformLocation(h,"u_matrix"),d=()=>{e.width=document.body.offsetWidth,e.height=document.body.offsetHeight,t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST);let i,s,d,A,_,f=function(){let e=[],t=[],r=2*Math.PI/12,a=51,n=19,o=0,i=r;for(let s=0;s<12;s++){let s=10*Math.cos(o),h=10*Math.sin(o),l=10*Math.cos(i),c=10*Math.sin(i);e.push(s,h,-250),e.push(l,c,-250),e.push(0,0,-250),t.push(a,n,3,a,n,3,a,n,3),e.push(s,h,250),e.push(l,c,250),e.push(0,0,250),t.push(a,n,3,a,n,3,a,n,3),e.push(s,h,-250),e.push(l,c,-250),e.push(s,h,250),t.push(a,n,3,a,n,3,a,n,3),e.push(l,c,250),e.push(s,h,250),e.push(l,c,-250),t.push(a,n,3,a,n,3,a,n,3),o=i,i+=r}return{points:e,colors:t}}();r=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array(f.points),t.STATIC_DRAW),a=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,new Uint8Array(f.colors),t.STATIC_DRAW),t.useProgram(h),t.enableVertexAttribArray(l),t.bindBuffer(t.ARRAY_BUFFER,r),i=3,s=t.FLOAT,d=!1,A=0,_=0,t.vertexAttribPointer(l,i,s,d,A,_),t.enableVertexAttribArray(c),t.bindBuffer(t.ARRAY_BUFFER,a),i=3,s=t.UNSIGNED_BYTE,d=!0,A=0,_=0,t.vertexAttribPointer(c,i,s,d,A,_);let m=t.canvas.clientWidth/t.canvas.clientHeight,y=1/3*Math.PI,R=p.perspective(y,m,1,2e3),v=p.translation(n.x,-n.y,400),b=p.inverse(v),g=p.multiply(R,b);o.forEach(e=>{let r=p.translate(g,e.x,e.y,0);t.uniformMatrix4fv(u,!1,r),t.drawArrays(t.TRIANGLES,0,f.points.length/3)})};document.onkeydown=(e=>{37==e.keyCode&&(n.x-=10),38==e.keyCode&&(n.y-=10),39==e.keyCode&&(n.x+=10),40==e.keyCode&&(n.y+=10),d()}),d();let p={createShader(e,r){let a=t.createShader(e);return t.shaderSource(a,r),t.compileShader(a),a},createProgram(e,r){let a=t.createProgram();return t.attachShader(a,e),t.attachShader(a,r),t.linkProgram(a),a},perspective(e,t,r,a){let n=Math.tan(.5*Math.PI-.5*e),o=1/(r-a);return[n/t,0,0,0,0,n,0,0,0,0,(r+a)*o,-1,0,0,r*a*o*2,0]},multiply(e,t){let r=e[0],a=e[1],n=e[2],o=e[3],i=e[4],s=e[5],h=e[6],l=e[7],c=e[8],u=e[9],d=e[10],p=e[11],A=e[12],_=e[13],f=e[14],m=e[15],y=t[0],R=t[1],v=t[2],b=t[3],g=t[4],E=t[5],F=t[6],x=t[7],B=t[8],T=t[9],P=t[10],S=t[11],C=t[12],U=t[13],M=t[14],w=t[15];return[y*r+R*i+v*c+b*A,y*a+R*s+v*u+b*_,y*n+R*h+v*d+b*f,y*o+R*l+v*p+b*m,g*r+E*i+F*c+x*A,g*a+E*s+F*u+x*_,g*n+E*h+F*d+x*f,g*o+E*l+F*p+x*m,B*r+T*i+P*c+S*A,B*a+T*s+P*u+S*_,B*n+T*h+P*d+S*f,B*o+T*l+P*p+S*m,C*r+U*i+M*c+w*A,C*a+U*s+M*u+w*_,C*n+U*h+M*d+w*f,C*o+U*l+M*p+w*m]},translation:(e,t,r)=>[1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1],translate:(e,t,r,a)=>p.multiply(e,p.translation(t,r,a)),inverse(e){let t=e[0],r=e[1],a=e[2],n=e[3],o=e[4],i=e[5],s=e[6],h=e[7],l=e[8],c=e[9],u=e[10],d=e[11],p=e[12],A=e[13],_=e[14],f=e[15],m=u*f,y=_*d,R=s*f,v=_*h,b=s*d,g=u*h,E=a*f,F=_*n,x=a*d,B=u*n,T=a*h,P=s*n,S=l*A,C=p*c,U=o*A,M=p*i,w=o*c,D=l*i,I=t*A,L=p*r,Y=t*c,k=l*r,H=t*i,N=o*r,W=m*i+v*c+b*A-(y*i+R*c+g*A),G=y*r+E*c+B*A-(m*r+F*c+x*A),O=R*r+F*i+T*A-(v*r+E*i+P*A),V=g*r+x*i+P*c-(b*r+B*i+T*c),X=1/(t*W+o*G+l*O+p*V);return[X*W,X*G,X*O,X*V,X*(y*o+R*l+g*p-(m*o+v*l+b*p)),X*(m*t+F*l+x*p-(y*t+E*l+B*p)),X*(v*t+E*o+P*p-(R*t+F*o+T*p)),X*(b*t+B*o+T*l-(g*t+x*o+P*l)),X*(S*h+M*d+w*f-(C*h+U*d+D*f)),X*(C*n+I*d+k*f-(S*n+L*d+Y*f)),X*(U*n+L*h+H*f-(M*n+I*h+N*f)),X*(D*n+Y*h+N*d-(w*n+k*h+H*d)),X*(U*u+D*_+C*s-(w*_+S*s+M*u)),X*(Y*_+S*a+L*u-(I*u+k*_+C*a)),X*(I*s+N*_+M*a-(H*_+U*a+L*s)),X*(H*u+w*a+k*s-(Y*s+N*u+D*a))]}}});</script>