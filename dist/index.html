<script>!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){"use strict";const n=r(1);t.exports=class{constructor(){this.camera={x:0,y:0},this.trees=[],this.width=document.body.offsetWidth,this.height=document.body.offsetHeight,this.initCanvas(),this.initDrawer(),this.initKeyboard(),this.hasChange=!0,setInterval(()=>{this.main()},30)}main(){this.hasChange&&(this.generateArea(),this.draw(),this.hasChange=!1)}initCanvas(){const t=document.createElement("canvas");t.style.position="fixed",t.style.width="100%",t.style.height="100%",document.body.appendChild(t),this.canvas=t}initDrawer(){this.drawer=new n(this.canvas)}initKeyboard(){let{camera:t}=this;document.onkeydown=(e=>{37==e.keyCode&&(t.x-=10),38==e.keyCode&&(t.y-=10),39==e.keyCode&&(t.x+=10),40==e.keyCode&&(t.y+=10),this.hasChange=!0})}draw(){this.drawer.draw(this)}generateArea(){this.area||(this.area={}),this.trees=[];let{camera:t}=this;for(let e=t.x-this.width/2;e<t.x+this.width/2;e+=150)for(let r=t.y-this.height/2;r<t.y+this.height/2;r+=150){let t=e-e%150,n=r-r%150,i=t+":"+n,a=this.area[i];a||(a={x:t+150*Math.random(),y:n+150*Math.random()},this.area[i]=a),this.trees.push(a)}}}},function(t,e,r){"use strict";const n=r(2),i=r(3);t.exports=class{constructor(t){let e=t.getContext("webgl");this.gl=e,this.canvas=t,this.vertexShader=n.createShader(e,e.VERTEX_SHADER,"\n            attribute vec4 a_position;\n            attribute vec4 a_color;\n            \n            uniform mat4 u_matrix;\n            \n            varying vec4 v_color;\n            \n            void main() {\n                // Multiply the position by the matrix.\n                gl_Position = u_matrix * a_position;\n                \n                // Pass the color to the fragment shader.\n                v_color = a_color;\n            }\n        "),this.fragmentShader=n.createShader(e,e.FRAGMENT_SHADER,"\n            precision mediump float;\n\n            // Passed in from the vertex shader.\n            varying vec4 v_color;\n            \n            void main() {\n                gl_FragColor = v_color;\n            }\n        "),this.program=n.createProgram(e,this.vertexShader,this.fragmentShader),this.positionLocation=e.getAttribLocation(this.program,"a_position"),this.colorLocation=e.getAttribLocation(this.program,"a_color"),this.matrixLocation=e.getUniformLocation(this.program,"u_matrix")}draw({camera:t,trees:e,width:r,height:a}){let{canvas:o,gl:s,positionLocation:h,program:c,colorLocation:u,matrixLocation:l}=this;o.width=r,o.height=a,s.viewport(0,0,r,a),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.enable(s.CULL_FACE),s.enable(s.DEPTH_TEST);let d=i(),p=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,p),s.bufferData(s.ARRAY_BUFFER,new Float32Array(d.points),s.STATIC_DRAW);let f,m,g,y,v,b=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,b),s.bufferData(s.ARRAY_BUFFER,new Uint8Array(d.colors),s.STATIC_DRAW),s.useProgram(c),s.enableVertexAttribArray(h),s.bindBuffer(s.ARRAY_BUFFER,p),f=3,m=s.FLOAT,g=!1,y=0,v=0,s.vertexAttribPointer(h,f,m,g,y,v),s.enableVertexAttribArray(u),s.bindBuffer(s.ARRAY_BUFFER,b),f=3,m=s.UNSIGNED_BYTE,g=!0,y=0,v=0,s.vertexAttribPointer(u,f,m,g,y,v);let _=s.canvas.clientWidth/s.canvas.clientHeight,A=1/3*Math.PI,x=n.perspective(A,_,1,2e3),R=n.translation(t.x,-t.y,400),w=n.inverse(R),S=n.multiply(x,w);e.forEach(t=>{let e=n.translate(S,t.x,t.y,0);s.uniformMatrix4fv(l,!1,e),s.drawArrays(s.TRIANGLES,0,d.points.length/3)})}}},function(t,e,r){"use strict";let n={createShader(t,e,r){let n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n},createProgram(t,e,r){let n=t.createProgram();return t.attachShader(n,e),t.attachShader(n,r),t.linkProgram(n),n},perspective(t,e,r,n){let i=Math.tan(.5*Math.PI-.5*t),a=1/(r-n);return[i/e,0,0,0,0,i,0,0,0,0,(r+n)*a,-1,0,0,r*n*a*2,0]},multiply(t,e){let r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],h=t[6],c=t[7],u=t[8],l=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15],v=e[0],b=e[1],_=e[2],A=e[3],x=e[4],R=e[5],w=e[6],S=e[7],E=e[8],F=e[9],P=e[10],C=e[11],T=e[12],B=e[13],M=e[14],L=e[15];return[v*r+b*o+_*u+A*f,v*n+b*s+_*l+A*m,v*i+b*h+_*d+A*g,v*a+b*c+_*p+A*y,x*r+R*o+w*u+S*f,x*n+R*s+w*l+S*m,x*i+R*h+w*d+S*g,x*a+R*c+w*p+S*y,E*r+F*o+P*u+C*f,E*n+F*s+P*l+C*m,E*i+F*h+P*d+C*g,E*a+F*c+P*p+C*y,T*r+B*o+M*u+L*f,T*n+B*s+M*l+L*m,T*i+B*h+M*d+L*g,T*a+B*c+M*p+L*y]},translation:(t,e,r)=>[1,0,0,0,0,1,0,0,0,0,1,0,t,e,r,1],translate:(t,e,r,i)=>n.multiply(t,n.translation(e,r,i)),inverse(t){let e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],h=t[7],c=t[8],u=t[9],l=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15],y=l*g,v=m*d,b=s*g,_=m*h,A=s*d,x=l*h,R=n*g,w=m*i,S=n*d,E=l*i,F=n*h,P=s*i,C=c*f,T=p*u,B=a*f,M=p*o,L=a*u,U=c*o,D=e*f,I=p*r,O=e*u,j=c*r,Y=e*o,k=a*r,H=y*o+_*u+A*f-(v*o+b*u+x*f),N=v*r+R*u+E*f-(y*r+w*u+S*f),W=b*r+w*o+F*f-(_*r+R*o+P*f),G=x*r+S*o+P*u-(A*r+E*o+F*u),V=1/(e*H+a*N+c*W+p*G);return[V*H,V*N,V*W,V*G,V*(v*a+b*c+x*p-(y*a+_*c+A*p)),V*(y*e+w*c+S*p-(v*e+R*c+E*p)),V*(_*e+R*a+P*p-(b*e+w*a+F*p)),V*(A*e+E*a+F*c-(x*e+S*a+P*c)),V*(C*h+M*d+L*g-(T*h+B*d+U*g)),V*(T*i+D*d+j*g-(C*i+I*d+O*g)),V*(B*i+I*h+Y*g-(M*i+D*h+k*g)),V*(U*i+O*h+k*d-(L*i+j*h+Y*d)),V*(B*l+U*m+T*s-(L*m+C*s+M*l)),V*(O*m+C*n+I*l-(D*l+j*m+T*n)),V*(D*s+k*m+M*n-(Y*m+B*n+I*s)),V*(Y*l+L*n+j*s-(O*s+k*l+U*n))]}};t.exports=n},function(t,e,r){"use strict";t.exports=function(){let t=[],e=[],r=2*Math.PI/12,n=51,i=19,a=0,o=r;for(let s=0;s<12;s++){let s=10*Math.cos(a),h=10*Math.sin(a),c=10*Math.cos(o),u=10*Math.sin(o);t.push(s,h,-250),t.push(c,u,-250),t.push(0,0,-250),e.push(n,i,3,n,i,3,n,i,3),t.push(s,h,250),t.push(c,u,250),t.push(0,0,250),e.push(n,i,3,n,i,3,n,i,3),t.push(s,h,-250),t.push(c,u,-250),t.push(s,h,250),e.push(n,i,3,n,i,3,n,i,3),t.push(c,u,250),t.push(s,h,250),t.push(c,u,-250),e.push(n,i,3,n,i,3,n,i,3),a=o,o+=r}return{points:t,colors:e}}},function(t,e,r){r(0),r(1),r(2),r(5),t.exports=r(3)},function(t,e,r){"use strict";const n=r(0);setTimeout(()=>{window.app=new n})}]);</script>